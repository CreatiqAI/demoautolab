# AutoLab Points & Rewards System Guide

## Overview
The AutoLab Points System is a customer loyalty program that rewards customers for their purchases and engagement. Points can be earned based on spending and redeemed for valuable rewards.

---

## üìä How Points Work

### Earning Points

**Base Points Formula:**
```
Points Earned = Total Purchase Amount (RM) √ó Points Multiplier
```

**Points Multipliers by Tier:**
- **Standard Tier**: 1.0x (RM1 = 1 point)
- **Bronze Tier**: 1.2x (RM1 = 1.2 points)
- **Silver Tier**: 1.5x (RM1 = 1.5 points)
- **Gold Tier**: 2.0x (RM1 = 2 points)
- **Platinum Tier**: 3.0x (RM1 = 3 points)

**Example:**
- A **Gold tier** customer spending **RM100** earns:
  - 100 √ó 2.0 = **200 points**
- A **Standard tier** customer spending **RM100** earns:
  - 100 √ó 1.0 = **100 points**

### When Points are Credited

Points are automatically credited to your account when:
1. ‚úÖ Order is marked as **"Completed"** or **"Delivered"**
2. ‚úÖ Payment is confirmed
3. ‚úÖ No returns/refunds are pending

**Important:** Points are NOT credited for:
- ‚ùå Pending orders
- ‚ùå Cancelled orders
- ‚ùå Refunded purchases
- ‚ùå Shipping fees (only product total counts)

---

## üí∞ What Points Can Be Used For

### 1. **Vouchers & Discounts**

Points can be redeemed for discount vouchers:

| Points Required | Voucher Value | Minimum Spend |
|----------------|---------------|---------------|
| 500 points | RM10 OFF | RM50 |
| 1,000 points | RM25 OFF | RM100 |
| 2,000 points | RM50 OFF | RM200 |
| 5,000 points | RM150 OFF | RM500 |
| 10,000 points | RM350 OFF | RM1,000 |

**How to Redeem:**
1. Go to **My Vouchers** page
2. Browse available vouchers in the **"Redeem with Points"** section
3. Click **"Redeem"** on your desired voucher
4. Voucher will be added to your account
5. Apply at checkout on your next purchase

### 2. **Free Products**

Select products can be claimed using points:
- **Accessories**: Car air fresheners, phone holders, etc.
- **Merchandise**: AutoLab branded items
- **Sample Products**: Try before you buy

**Typical Point Values:**
- Car Air Freshener: 800 points
- Phone Holder: 1,500 points
- Microfiber Cloth Set: 600 points
- AutoLab Keychain: 300 points

### 3. **Free Shipping Vouchers**

Redeem points for free shipping:

| Points | Shipping Voucher |
|--------|------------------|
| 200 points | Free shipping (orders up to RM50) |
| 400 points | Free shipping (orders up to RM100) |
| 800 points | Free shipping (no minimum) |

### 4. **Tier Upgrade Boost** *(Coming Soon)*

Use points to accelerate tier upgrades:
- Redeem points to count towards monthly spending requirement
- 100 points = RM1 credit towards tier spending
- Example: Need RM500 more to reach Gold? Use 50,000 points

### 5. **Exclusive Member Events** *(Coming Soon)*

Access to special events using points:
- Product launch events
- Workshop tours
- Car care workshops
- Meet & greet with automotive experts

### 6. **Charity Donations** *(Coming Soon)*

Donate your points to partner charities:
- 1,000 points = RM10 donation
- Support automotive education programs
- Help underprivileged communities

---

## üèÜ Customer Tiers & Monthly Spending

### How Tiers Work

Customer tiers are based on **MONTHLY SPENDING**, not lifetime spending:

| Tier | Monthly Spending | Discount | Points Multiplier | Special Benefits |
|------|-----------------|----------|-------------------|------------------|
| **Platinum** | RM5,000+/month | 15% | 3.0x | Priority support, Early access, Free shipping |
| **Gold** | RM3,000+/month | 10% | 2.0x | Priority support, Free shipping |
| **Silver** | RM1,500+/month | 5% | 1.5x | Free shipping above RM200 |
| **Bronze** | RM500+/month | 2% | 1.2x | Free shipping above RM300 |
| **Standard** | RM0+/month | 0% | 1.0x | Base benefits |

### Important Tier Rules

**1. Monthly Reset:**
- Spending resets to RM0 on the **1st of each month**
- You must meet the spending requirement **each month** to maintain your tier
- Example: Spent RM3,500 in January ‚Üí Gold tier for January ‚Üí Resets in February

**2. Automatic Tier Changes:**
- **Upgrade**: Automatic when you reach spending threshold
  - Spend RM1,500 in a month ‚Üí Automatically upgrade to Silver
  - Upgrade happens immediately upon reaching threshold

- **Downgrade**: Automatic at month end if requirement not met
  - Gold tier requires RM3,000/month
  - Spent only RM2,000 in current month?
  - On the 1st of next month ‚Üí Downgrade to Silver tier

**3. Points Earned = Tier at Purchase Time:**
- You earn points at your **current tier level**
- Example: Purchase made as Gold tier (2.0x) ‚Üí You earn 2.0x points
- Even if you downgrade later, those points remain

**4. Tier Benefits:**
- Discounts apply immediately to cart based on current tier
- Free shipping threshold based on current tier
- Priority support access based on current tier

---

## üìà Maximizing Your Points & Tier

### Strategy 1: Bulk Purchases
- Place larger orders to reach higher tiers faster
- Example: Instead of 3 small orders (RM500 each), one RM1,500 order gets you to Silver tier

### Strategy 2: Early Month Shopping
- Shop early in the month to enjoy tier benefits for longer
- Reaching Gold on the 5th gives you 25+ days of 10% discount

### Strategy 3: Refer Friends *(Coming Soon)*
- Earn bonus points for successful referrals
- 500 points per friend who makes first purchase
- Friend gets 300 welcome bonus points

### Strategy 4: Special Promotions
- Watch for **Double Points Days** (2x points on all purchases)
- **Birthday Month Bonus** (+500 points)
- **Anniversary Bonus** (1,000 points on signup anniversary)

---

## üîç Checking Your Points & Tier Status

### On Website
1. Go to **My Profile** page
2. See your current:
   - Total points balance
   - Current tier level
   - Current month spending (RM X,XXX / RM X,XXX needed for next tier)
   - Days remaining in current month
   - Amount needed to reach/maintain next tier

### Points History
- View all points earned/redeemed
- Filter by date range
- See which purchases earned points
- Track voucher redemptions

---

## ‚ùì Frequently Asked Questions

### Q: Do points expire?
**A:** Points expire after **12 months** of inactivity. Make a purchase or redeem points at least once per year to keep them active.

### Q: Can I transfer points to another account?
**A:** No, points are non-transferable and tied to your account.

### Q: What happens to my tier if I don't shop one month?
**A:** Your tier will reset to Standard on the 1st of the next month. You'll need to re-earn your tier status with new purchases.

### Q: Can I use points and vouchers together?
**A:** Yes! You can combine:
- Points-redeemed vouchers
- Promotional vouchers
- Tier discounts

All discounts stack (up to maximum 50% off).

### Q: Do I earn points on discounted purchases?
**A:** Yes, you earn points on the **final amount paid** after all discounts.
- Example: RM100 product with 10% tier discount = RM90 paid
- Gold tier customer earns: 90 √ó 2.0 = 180 points

### Q: What if I return a product?
**A:** Points earned from returned products will be deducted from your account.

### Q: Can merchants earn points?
**A:** Merchants have a separate tier system (Professional/Enterprise) with different benefits focused on B2B pricing and installation guides.

---

## üéØ Points System Summary

### For Standard Tier (Most Customers)
- **Earn**: 1 point per RM1 spent
- **Redeem**: 500 points = RM10 voucher
- **To reach Bronze**: Spend RM500 in current month ‚Üí Get 1.2x points multiplier

### For Gold Tier (RM3,000/month spenders)
- **Earn**: 2 points per RM1 spent
- **Save**: 10% automatic discount on all purchases
- **Benefit**: Free shipping on all orders
- **Monthly**: Maintain RM3,000 spending to keep tier

### For Platinum Tier (RM5,000/month spenders)
- **Earn**: 3 points per RM1 spent
- **Save**: 15% automatic discount on all purchases
- **Benefit**: Free shipping + Priority support + Early access
- **Monthly**: Maintain RM5,000 spending to keep tier

---

## üí° Pro Tips

1. **Track Your Spending**: Check your profile regularly to see how close you are to the next tier

2. **Plan Big Purchases**: Time larger purchases (like full car accessory setups) early in the month to maximize tier benefits

3. **Use Tier Discounts First**: Your automatic tier discount saves you money, then use points/vouchers on top

4. **Save Points for Big Redemptions**: Larger vouchers have better value (10,000 points = RM350 is better value than 5√ó 2,000 point vouchers)

5. **Birthday Month**: Make sure your birthday is set in your profile to receive bonus points

---

## üõ†Ô∏è Technical Details for Developers

### Points Calculation in Code
```typescript
function calculatePoints(orderAmount: number, tierMultiplier: number): number {
  return Math.floor(orderAmount * tierMultiplier);
}

// Example:
const points = calculatePoints(150.50, 2.0); // Returns 301 points
```

### Monthly Spending Tracking
- Stored in `customer_profiles.current_month_spending`
- Resets via database function `reset_monthly_spending()` on 1st of month
- Automatic tier upgrade via trigger on spending update

### Database Schema
```sql
-- Customer profile columns
current_month_spending DECIMAL(10,2)  -- Current month's total
lifetime_spending DECIMAL(10,2)        -- All-time total
points_balance INTEGER                 -- Current points
tier_id UUID                          -- Current tier

-- Tier requirements
min_monthly_spending DECIMAL(10,2)    -- Required per month
points_multiplier DECIMAL(5,2)        -- Point earning rate
discount_percentage DECIMAL(5,2)       -- Auto discount
```

---

## üìû Support

If you have questions about points or tiers:
- **Email**: support@autolab.com
- **WhatsApp**: +60 12-XXX-XXXX
- **In-app**: Chat support (Platinum tier priority)

---

**Last Updated**: November 2025
**Version**: 2.0 (Monthly Tier System)
